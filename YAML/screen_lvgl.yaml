substitutions:
  name: waveshare-7-screen
  friendly_name: waveshare-7-jarvis
  api_key: !secret api_key

#Sensors
  # Weather
  out_tempature_entity: sensor.weather_temperature
  real_tempature_entity: sensor.weather_realfeel_temperature
  out_high_tempature_entity: sensor.weather_realfeel_temperature_max_day_0
  out_low_tempature_entity: sensor.weather_realfeel_temperature_min_day_0
  weather_forecast: weather.weather

  # Climate Control
  #Downstairs
  ds_climate_entity: sensor.jimmy_thermostat_indoor_temperature
  ds_set_climate_entity: climate.jimmy_thermostat
  #Upstairs
  us_climate_entity: sensor.timmy_thermostat_indoor_temperature
  us_set_climate_entity: climate.timmy_thermostat

  # Power Consumption
  cur_elec_usage: sensor.rosebud_123_1min
  daily_elect_usage: sensor.rosebud_123_1d
  elec_cost: sensor.rosebud_123_1d_cost

  #Garage
  garage_door_status: switch.garage_door_garage_status
  garage_door: switch.garage_door

  #Lighting
  # Page 1
  living_room_lamp1: light.piano_lamp
  # Page 2
  masterbed_lamp_left: light.master_bed_lamp_left
  masterbed_lamp_right: light.master_bed_lamp_right


  font_glyphs: '&@!"''%()<>+=,-_.:°/$€£¥?0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyzÀàÁáÂâÃãÄäĀāĂăÅåǺǻẠạĄąÆæǼǽĆćĈĉČčĊċÇçĎďĐđÐðÈèÉéÊêẼẽĚěËëĒēĔĕĖėẸẹĘęĜĝǦǧĞğĠġĢģĤĥĦħıÌìÍíÎîĨĩÏïĪīĬĭİỊịĮįȷĴĵĶķĸĹĺĽľĻļŁłĿŀŃńÑñŇňŅņƝɲŊŋŉÒòÓóÔôÕõÖöŌōŎŏŐőỌọǪǫØøǾǿŒœŔŕŘřŖŗŚśŜŝŠšŞşȘșẞßŤťŢţȚțŦŧÞþÙùÚúÛûŨũÜüŪūŬŭŮůŰűỤụŲųẀẁẂẃŴŵẄẅỲỳÝýŶŷỸỹŸÿȲȳŹźŽžŻżĲĳƏə'

esphome:
  name: ${name}
  friendly_name: ${friendly_name}
  platformio_options:
    # build_unflags: -Werror=all
    board_build.flash_mode: dio
  on_boot:
    script.execute: backlight_off

esp32:
  board: esp32-s3-devkitc-1
  framework:
    type: esp-idf
    sdkconfig_options:
      CONFIG_ESP32S3_DEFAULT_CPU_FREQ_240: "y"
      CONFIG_ESP32S3_DATA_CACHE_64KB: "y"
      CONFIG_SPIRAM_FETCH_INSTRUCTIONS: y
      CONFIG_SPIRAM_RODATA: y
  flash_size: 8MB
psram:
  mode: octal
  speed: 80MHz

api:
  encryption:
    key: ${api_key}

logger:
  level: DEBUG

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

ota:
  platform: esphome

time:
  - platform: sntp
    id: sntp_time
    servers:
     - ntp0.ntp-servers.net
     - ntp1.ntp-servers.net
     - ntp2.ntp-servers.net
    on_time_sync:
      - script.execute: time_update
    on_time:
      - minutes: '*'
        seconds: 0
        then:
          - script.execute: time_update

ch422g:
  - id: io_ex

i2c:
  - id: bus_a
    sda: GPIO08
    scl: GPIO09

touchscreen:
  platform: gt911
  i2c_id: bus_a
  id: device_touchscreen
  interrupt_pin: GPIO4
  reset_pin:
    ch422g: io_ex
    number: 1
    mode: OUTPUT
  on_touch:
    then:
      - script.execute: backlight_off
      - lambda: |-
          ESP_LOGI("Touch", "Touch detected at x=%d, y=%d", touch.x, touch.y);
display:
  - platform: rpi_dpi_rgb
    id: device_display
    update_interval: never
    auto_clear_enabled: false
    color_order: RGB
    pclk_frequency: 16MHz
    dimensions:
      width: 800
      height: 480
    reset_pin:
      ch422g: io_ex
      number: 3
    de_pin:
      number: 5
    hsync_pin:
      number: 46
      ignore_strapping_warning: true
    vsync_pin:
      number: 3
      ignore_strapping_warning: true
    enable_pin:
      ch422g: io_ex
      number: 2
    pclk_pin: 7
    pclk_inverted: true
    hsync_back_porch: 8
    hsync_front_porch: 8
    hsync_pulse_width: 4
    vsync_back_porch: 16
    vsync_front_porch: 16
    vsync_pulse_width: 4
    data_pins:
      red:
        - 1         #r3.
        - 2         #r4.
        - 42        #r5
        - 41        #r6
        - 40        #r7
      blue:
        - 14        #b3
        - 38        #b4
        - 18        #b5
        - 17        #b6
        - 10        #b7
      green:
        - 39        #g2
        - 0         #g3.
        - 45        #g4
        - 48        #g5
        - 47        #g6
        - 21        #g7

output:
  - platform: ledc
    pin: GPIO6
    id: backlight_output
    zero_means_zero: true
light:
  - platform: monochromatic
    id: backlight
    name: Back Light
    entity_category: config
    output: backlight_output
    restore_mode: ALWAYS_ON

text_sensor:
  - platform: wifi_info
    ip_address:
      name: IP Address
      id: ip_addr
      entity_category: "diagnostic"
    ssid:
      id: connected_ssid
      name: SSID
      entity_category: "diagnostic"
    bssid:
      id: connected_bssid
      name: BSSID
      entity_category: "diagnostic"
    mac_address:
      id: device_mac

  - platform: homeassistant
    id: set_temp_mode
    entity_id: ${ds_set_climate_entity}
    internal: true
    attribute: preset_mode
    filters:
      - lambda: return x;
    on_value:
      - if:
          condition:
            - lambda: return x == "NoHold";
          then:
            - lvgl.label.update:
                id: set_temp_lvgl
                text_color: white
            - lvgl.label.update:
                id: set_temp_label
                text: "Thermostat\nOn Schedule"
          else:
            - lvgl.label.update:
                id: set_temp_lvgl
                text_color: blue
            - lvgl.label.update:
                id: set_temp_label
                text: "Thermostat\nOff Schedule"

  - platform: homeassistant
    id: set_temp2_mode
    entity_id: ${us_set_climate_entity}
    internal: true
    attribute: preset_mode
    filters:
      - lambda: return x;
    on_value:
      - if:
          condition:
            - lambda: return x == "NoHold";
          then:
            - lvgl.label.update:
                id: set_temp2_lvgl
                text_color: white
            - lvgl.label.update:
                id: set_temp2_label
                text: "Thermostat\nOn Schedule"
          else:
            - lvgl.label.update:
                id: set_temp2_lvgl
                text_color: blue
            - lvgl.label.update:
                id: set_temp2_label
                text: "Thermostat\nOff Schedule"

  - platform: homeassistant
    id: garage
    entity_id: ${garage_door_status}
    internal: true
    on_value:
      - if:
          condition:
            - lambda: return x == "off";
          then:
            - lvgl.label.update:
                id: display_garage_icon
                text: "\U000F12D3"
                text_color: yellow
            - lvgl.label.update:
                id: display_garage_status
                text: "Closed"
            - delay: 2s
            - lvgl.label.update:
                id: display_garage_icon
                text: "\U000F12D3"
                text_color: leaf_green
          else:
            - lvgl.label.update:
                id: display_garage_icon
                text: "\U000F12D4"
                text_color: yellow
            - lvgl.label.update:
                id: display_garage_status
                text: "Open"
            - delay: 2s
            - lvgl.label.update:
                text: "\U000F12D4"
                id: display_garage_icon
                text_color: red

  - platform: homeassistant
    id: weather_forecast
    entity_id: ${weather_forecast}
    on_value:
      then:
        - script.execute: weather_update
script:
  - id: backlight_off
    then:
      - if:
          condition:
            light.is_off: backlight
          then:
            - lvgl.resume:
            - delay: 100ms
            - light.turn_on: backlight
            - delay: 180s
            - light.turn_off: backlight
            - lvgl.page.show: main_page
            - lvgl.pause:
            - logger.log: "LVGL is idle"
            - light.turn_off:
                id: backlight
                transition_length: 5s

  - id: weather_update
    then:
      - if:
          condition:
            - lambda: return id(weather_forecast).state == "rainy";
          then:
            - lvgl.label.update:
                id: display_weather
                text_font: icon_font_120
                text: "\U000F0597"
          else:
            - if:
                condition:
                  - lambda: return id(weather_forecast).state == "clear-night";
                then:
                  - lvgl.label.update:
                      id: display_weather
                      text_font: icon_font_120
                      text: "\U000F0594"
                else:
                  - if:
                      condition:
                        - lambda: return id(weather_forecast).state == "exceptional";
                      then:
                        - lvgl.label.update:
                            id: display_weather
                            text_font: icon_font_120
                            text: "\U000F0590"
                      else:
                        - if:
                            condition:
                              - lambda: return id(weather_forecast).state == "hail";
                            then:
                              - lvgl.label.update:
                                  id: display_weather
                                  text_font: icon_font_120
                                  text: "\U000F0592"
                            else:
                              - if:
                                  condition:
                                    - lambda: return id(weather_forecast).state == "lightning";
                                  then:
                                    - lvgl.label.update:
                                        id: display_weather
                                        text_font: icon_font_120
                                        text: "\U000F0593"
                                  else:
                                    - if:
                                        condition:
                                          - lambda: return id(weather_forecast).state == "lightning-rainy";
                                        then:
                                          - lvgl.label.update:
                                              id: display_weather
                                              text_font: icon_font_120
                                              text: "\U000F067E"
                                        else:
                                          - if:
                                              condition:
                                                - lambda: return id(weather_forecast).state == "partlycloudy";
                                              then:
                                                - lvgl.label.update:
                                                    id: display_weather
                                                    text_font: icon_font_120
                                                    text: "\U000F0595"
                                              else:
                                                - if:
                                                    condition:
                                                      - lambda: return id(weather_forecast).state == "pouring";
                                                    then:
                                                      - lvgl.label.update:
                                                          id: display_weather
                                                          text_font: icon_font_120
                                                          text: "\U000F0596"
                                                    else:
                                                      - if:
                                                          condition:
                                                            - lambda: return id(weather_forecast).state == "snowy";
                                                          then:
                                                            - lvgl.label.update:
                                                                id: display_weather
                                                                text_font: icon_font_120
                                                                text: "\U000F0598"
                                                          else:
                                                            - if:
                                                                condition:
                                                                  - lambda: return id(weather_forecast).state == "snowy-rainy";
                                                                then:
                                                                  - lvgl.label.update:
                                                                      id: display_weather
                                                                      text_font: icon_font_120
                                                                      text: "\U000F067F"
                                                                else:
                                                                  - if:
                                                                      condition:
                                                                        - lambda: return id(weather_forecast).state.find("sunny");
                                                                      then:
                                                                        - lvgl.label.update:
                                                                            id: display_weather
                                                                            text_font: icon_font_120
                                                                            text: "\U000F0599"
                                                                      else:
                                                                        - if:
                                                                            condition:
                                                                              - lambda: return id(weather_forecast).state == "sunny-rainy";
                                                                            then:
                                                                              - lvgl.label.update:
                                                                                  id: display_weather
                                                                                  text_font: icon_font_120
                                                                                  text: "\U000F0596"
                                                                            else:
                                                                              - if:
                                                                                  condition:
                                                                                    - lambda: return id(weather_forecast).state == "windy";
                                                                                  then:
                                                                                    - lvgl.label.update:
                                                                                        id: display_weather
                                                                                        text_font: icon_font_120
                                                                                        text: "\U000F059D"
                                                                                  else:
                                                                                    - if:
                                                                                        condition:
                                                                                          - lambda: return id(weather_forecast).state == "windy-variant";
                                                                                        then:
                                                                                          - lvgl.label.update:
                                                                                              id: display_weather
                                                                                              text_font: icon_font_120
                                                                                              text: "\U000F059E"
                                                                                        else:
                                                                                          - if:
                                                                                              condition:
                                                                                                - lambda: return id(weather_forecast).state.find("sizzling");
                                                                                              then:
                                                                                                - lvgl.label.update:
                                                                                                    id: display_weather
                                                                                                    text_font: icon_font_120
                                                                                                    text: "\U000F0F37"
                                                                                              else:
                                                                                                - if:
                                                                                                    condition:
                                                                                                      - lambda: return id(weather_forecast).state.find("cloudy");
                                                                                                    then:
                                                                                                      - lvgl.label.update:
                                                                                                          id: display_weather
                                                                                                          text_font: icon_font_120
                                                                                                          text: "\U000F0590"

  - id: time_update
    then:
      - lvgl.label.update:
          id: display_time
          text: !lambda |-
            char str[20];
            time_t currTime = id(sntp_time).now().timestamp;
            strftime(str, sizeof(str), "%I:%M%p", localtime(&currTime));
            return { str };

      - lvgl.label.update:
          id: display_day
          text: !lambda |-
            static const char * const days_en[] = {"Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"};
            static char date_buf[32];
            auto now = id(sntp_time).now();
            const char * const * day_names;

            day_names = days_en;

            snprintf(date_buf, sizeof(date_buf), "%s", day_names[now.day_of_week - 1]);
            return date_buf;

      - lvgl.label.update:
          id: display_date
          text: !lambda |-
            static const char * const mon_en[] = {"January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"};
            static char month_buf[32];
            auto now = id(sntp_time).now();
            const char * const * mon_names;

            mon_names = mon_en;

            snprintf(month_buf, sizeof(month_buf), "%02d %s", now.day_of_month, mon_names[now.month - 1]);
            return month_buf;

sensor:
  - platform: wifi_signal
    name: "WiFi db"
    id: wifi_signal_db
    update_interval: 30s

  - platform: copy
    source_id: wifi_signal_db
    name: "WiFi Signal"
    id: wifi_percent
    filters:
      - lambda: return min(max(2 * (x + 100.0), 0.0), 100.0);
    unit_of_measurement: "%"
    entity_category: "diagnostic"
    device_class: ""

  - platform: homeassistant
    id: in_temp
    entity_id: ${ds_climate_entity}
    internal: true
    filters:
      - lambda: return x;
    unit_of_measurement: "°F"
    on_value:
      - lvgl.label.update:
          id: ds_climate_actual_temp_lvgl
          text:
            format: "%.0f°F"
            args: [ 'x' ]

  - platform: homeassistant
    id: in_temp2
    entity_id: ${us_climate_entity}
    internal: true
    filters:
      - lambda: return x;
    unit_of_measurement: "°F"
    on_value:
      - lvgl.label.update:
          id: us_climate_actual_temp_lvgl
          text:
            format: "%.0f°F"
            args: [ 'x' ]

  - platform: homeassistant
    id: set_temp
    entity_id: ${ds_set_climate_entity}
    attribute: temperature
    internal: true
    filters:
      - lambda: return x;
    unit_of_measurement: "°F"
    on_value:
      - if:
          condition:
            - lambda: return isnan(x);
          then:
            - lvgl.label.update:
                id: set_temp_lvgl
                text: "Off"
          else:
            - lvgl.label.update:
                id: set_temp_lvgl
                text:
                  format: "%.0f°F"
                  args: [ 'x' ]
  - platform: homeassistant
    id: set_temp2
    entity_id: ${us_set_climate_entity}
    attribute: temperature
    internal: true
    filters:
      - lambda: return x;
    unit_of_measurement: "°F"
    on_value:
      - if:
          condition:
            - lambda: return isnan(x);
          then:
            - lvgl.label.update:
                id: set_temp2_lvgl
                text: "Off"
          else:
            - lvgl.label.update:
                id: set_temp2_lvgl
                text:
                  format: "%.0f°F"
                  args: [ 'x' ]

  - platform: template
    name: "temperature_sensor_template"
    id: set_temp_template
    lambda: |-
      return id(set_temp).state;
    update_interval: 30s
    on_value:
      - if:
          condition:
            - lambda: return isnan(id(set_temp).state);
          then:
            - lvgl.label.update:
                id: set_temp_lvgl
                text: "Off"
          else:
            - lvgl.label.update:
                id: set_temp_lvgl
                text:
                  format: "%.0f°F"
                  args: [ 'x' ]

  - platform: homeassistant
    id: real_feel_temp
    entity_id: ${real_tempature_entity}
    internal: true
    on_value:
      - lvgl.label.update:
          id: real_feel_temp_lvgl
          text:
            format: "Feel: %.0f°F"
            args: [ 'x' ]

  - platform: homeassistant
    id: out_temp
    entity_id: ${out_tempature_entity}
    internal: true
    on_value:
      - lvgl.label.update:
          id: display_out_temp
          text:
            format: "Real: %.0f°F"
            args: [ 'x' ]

  - platform: homeassistant
    id: out_temp_high
    entity_id: ${out_high_tempature_entity}
    internal: true
    on_value:
      - lvgl.label.update:
          id: display_out_high_temp
          text:
            format: "High: %.0f°F"
            args: [ 'x' ]

  - platform: homeassistant
    id: out_temp_low
    entity_id: ${out_low_tempature_entity}
    internal: true
    on_value:
      - lvgl.label.update:
          id: display_out_low_temp
          text:
            format: "Low: %.0f°F"
            args: [ 'x' ]

  - platform: homeassistant
    id: cur_elec_usage
    entity_id: ${cur_elec_usage}
    internal: true
    on_value:
      - lvgl.label.update:
          id: display_cur_elec_usage
          text:
            format: "Current: %.0fkW"
            args: [ 'x' ]

  - platform: homeassistant
    id: daily_elect_usage
    entity_id: ${daily_elect_usage}
    internal: true
    on_value:
      - lvgl.label.update:
          id: display_daily_elect_usage
          text:
            format: "Daily: %.0fkW"
            args: [ 'x' ]

  - platform: homeassistant
    id: elec_cost
    entity_id: ${elec_cost}
    internal: true
    on_value:
      - lvgl.label.update:
          id: display_elec_cost
          text:
            format: "Cost: $%.2f"
            args: [ 'x' ]

binary_sensor:
  - platform: homeassistant
    id: dining_state
    entity_id: ${living_room_lamp1}
    internal: true
    publish_initial_state: true
    on_state:
      then:
        - lvgl.widget.update:
            id: button_1
            state:
              checked: !lambda return x;
        - if:
            condition:
              lambda: return x == true;
            then:
              - lvgl.label.update:
                  id: dining_light_lvgl
                  text_color: yellow
            else:
              - lvgl.label.update:
                  id: dining_light_lvgl
                  text_color: white

  - platform: homeassistant
    id: living_room_state
    entity_id: switch.living_room
    internal: true
    publish_initial_state: true
    on_state:
      then:
        - lvgl.widget.update:
            id: button_4
            state:
              checked: !lambda return x;
        - if:
            condition:
              lambda: return x == true;
            then:
              - lvgl.label.update:
                  id: living_room_lvgl
                  text_color: yellow
            else:
              - lvgl.label.update:
                  id: living_room_lvgl
                  text_color: white
  - platform: homeassistant
    id: big_light_state
    entity_id: switch.big_light_esp
    internal: true
    on_state:
      then:
        - lvgl.widget.update:
            id: button_2
            state:
              checked: !lambda return x;
        - if:
            condition:
              lambda: return x == true;
            then:
              - lvgl.label.update:
                  id: big_light_lvgl
                  text_color: yellow
            else:
              - lvgl.label.update:
                  id: big_light_lvgl
                  text_color: white

  - platform: homeassistant
    id: back_light_state
    entity_id: switch.back_room_esp
    internal: true
    on_state:
      then:
        - lvgl.widget.update:
            id: button_3
            state:
              checked: !lambda return x;
        - if:
            condition:
              lambda: return x == true;
            then:
              - lvgl.label.update:
                  id: back_light_lvgl
                  text_color: yellow
            else:
              - lvgl.label.update:
                  id: back_light_lvgl
                  text_color: white

font:
  - file: "https://github.com/JMiahMan1/esphome-waveshare7/raw/refs/heads/main/Fonts/creato-display/CreatoDisplay-Bold.ttf"
    id: my_font16
    size: 16
    bpp: 4
    glyphs:
      '${font_glyphs}'

  - file: "https://github.com/JMiahMan1/esphome-waveshare7/raw/refs/heads/main/Fonts/creato-display/CreatoDisplay-Regular.ttf"
    id: my_font28
    size: 28
    bpp: 4
    glyphs:
      '${font_glyphs}'

  - file: "https://github.com/JMiahMan1/esphome-waveshare7/raw/refs/heads/main/Fonts/creato-display/CreatoDisplay-Bold.ttf"
    id: my_font40
    size: 40
    bpp: 4
    glyphs:
      '${font_glyphs}'

  - file: "https://github.com/JMiahMan1/esphome-waveshare7/raw/refs/heads/main/Fonts/creato-display/CreatoDisplay-Bold.ttf"
    id: my_font18
    size: 18
    bpp: 4
    glyphs:
      '${font_glyphs}'

  - file: "https://github.com/JMiahMan1/esphome-waveshare7/raw/refs/heads/main/Fonts/creato-display/CreatoDisplay-Bold.ttf"
    id: my_font22
    size: 22
    bpp: 4
    glyphs:
      '${font_glyphs}'

  - file: "https://github.com/JMiahMan1/esphome-waveshare7/raw/refs/heads/main/Fonts/creato-display/CreatoDisplay-Bold.ttf"
    id: temp_font30
    size: 30
    bpp: 4
    glyphs:
      '${font_glyphs}'

  - file: "https://github.com/JMiahMan1/esphome-waveshare7/raw/refs/heads/main/Fonts/creato-display/CreatoDisplay-Regular.ttf"
    id: weather_font30
    size: 30
    bpp: 4
    glyphs:
      '${font_glyphs}'

  - file: "https://github.com/JMiahMan1/esphome-waveshare7/raw/refs/heads/main/Fonts/clocker/Clocker-Bold.ttf"
    id: clock_font56
    size: 56
    glyphs:
      '${font_glyphs}'

  - file: "https://github.com/JMiahMan1/esphome-waveshare7/raw/refs/heads/main/Fonts/creato-display/CreatoDisplay-Regular.ttf"
    id: my_font60
    size: 60
    glyphs:
      '${font_glyphs}'

  - file: "https://github.com/Templarian/MaterialDesign-Webfont/raw/refs/heads/master/fonts/materialdesignicons-webfont.ttf"
    id: icon_font_120
    size: 120
    bpp: 4
    glyphs: &icon_glyphs
      - "\U000F0590" # mdi-weather-cloudy
      - "\U000F0F2F" # mdi-weather-cloudy-alert
      - "\U000F0E6E" # mdi-weather-cloudy-arrow-right
      - "\U000F0591" # mdi-weather-fog
      - "\U000F0592" # mdi-weather-hail
      - "\U000F0F30" # mdi-weather-hazy
      - "\U000F0898" # mdi-weather-hurricane
      - "\U000F0593" # mdi-weather-lightning
      - "\U000F067E" # mdi-weather-lightning-rainy
      - "\U000F0594" # mdi-weather-night
      - "\U000F0F31" # mdi-weather-night-partly-cloudy
      - "\U000F0595" # mdi-weather-partly-cloudy
      - "\U000F0F32" # mdi-weather-partly-lightning
      - "\U000F0F33" # mdi-weather-partly-rainy
      - "\U000F0F34" # mdi-weather-partly-snowy
      - "\U000F0F35" # mdi-weather-partly-snowy-rainy
      - "\U000F0596" # mdi-weather-pouring
      - "\U000F0597" # mdi-weather-rainy
      - "\U000F0598" # mdi-weather-snowy
      - "\U000F0F36" # mdi-weather-snowy-heavy
      - "\U000F067F" # mdi-weather-snowy-rainy
      - "\U000F0599" # mdi-weather-sunny
      - "\U000F0F37" # mdi-weather-sunny-alert
      - "\U000F14E4" # mdi-weather-sunny-off
      - "\U000F059A" # mdi-weather-sunset
      - "\U000F059B" # mdi-weather-sunset-down
      - "\U000F059C" # mdi-weather-sunset-up
      - "\U000F0F38" # mdi-weather-tornado
      - "\U000F059D" # mdi-weather-windy
      - "\U000F059E" # mdi-weather-windy-variant
      - "\U000F0A19"#toggle off
      - "\U000F0521"#toggle on
      - "\U000F0150"#clock
      - "\U000F057E"#speaker on
      - "\U000F0581"#speaker off
      - "\U000F1322"#tools
      - "\U000F12D4"#garage open
      - "\U000F12D3"#garage closed
      - "\U000F0238"#heating
      - "\U000F0B2C"#up
      - "\U000F0B26"#down
      - "\U000F024A"#garden
      - "\U000F1987"#floods
      - "\U000F04C8"#spots
      - "\U000F1722"#fire off
      - "\U000F068A"#alarm home
      - "\U000F099D"#alarm away
      - "\U000F1828"#alarm night
      - "\U000F099E"#disarmed
      - "\U000F0565"#arming
      - "\U000F1A12"#home button
      - "\U000F0D90"#monitor_off
      - "\U000F0B28"#left
      - "\U000F192D"#electricity
      - "\U000F1A1B"#gas
      - "\U000F0B6C"#car battery
      - "\U000F0873"#car miles non
      - "\U000F0875"#car miles low
      - "\U000F0874"#car miles full
      - "\U000F0B2A"#right
      - "\U000F04B9"#living room
      - "\U000F1061"#dining
      - "\U000F06B5"#lamp
      - "\U000F06E8"#light bulb illuminated
      - "\U000F0335"#light bulb off
      - "\U000F07F4"#tv
      - "\U000F1160"#kitchen
      - "\U000F0210"#fan
      - "\U000F050F"#temp
      - "\U000F01AE"#gbp pound symbol
      - "\U000F1747"#tall lamp
      - "\U000F0769"#ceiling
      - "\U000F18DD"#ceiling multiple
      - "\U000F091C"#wall light
      - "\U000F075A"#music
      - "\U000F05CB"#voice
      - "\U000F0ED4"#voice off
      - "\U000F0FCE"#scene
      - "\U000F040A"#play
      - "\U000F03E4"#pause
      - "\U000F04DB"#stop
      - "\U000F04AD"#next track
      - "\U000F04AE"#previous track
      - "\U000F075E"#vol minus
      - "\U000F075D"#vol plus
      - "\U000F040E"#play/pause
      - "\U000F08D6"#settings
      - "\U000F036D"#microphone off
      - "\U000F032A"#energy leaf

  - file: "https://github.com/Templarian/MaterialDesign-Webfont/raw/refs/heads/master/fonts/materialdesignicons-webfont.ttf"
    id: icon_font_80
    size: 80
    bpp: 4
    glyphs: *icon_glyphs

  - file: "https://github.com/Templarian/MaterialDesign-Webfont/raw/refs/heads/master/fonts/materialdesignicons-webfont.ttf"
    id: icon_font_60
    size: 60
    bpp: 4
    glyphs: *icon_glyphs

  - file: "https://github.com/Templarian/MaterialDesign-Webfont/raw/refs/heads/master/fonts/materialdesignicons-webfont.ttf"
    id: icon_font_30
    size: 30
    bpp: 4
    glyphs: *icon_glyphs

color:
  - id: green
    hex: '75D15F'
  - id: leaf_green
    hex: '60A86A'
  - id: red
    hex: 'FF3131'
  - id: blue
    hex: '47B7E9'
  - id: blue_drk
    hex: '085296'
  - id: amber
    hex: 'FBAB35'
  - id: lime
    hex: '20FC30'
  - id: pink
    hex: 'D92BBC'
  - id: yellow
    hex: 'FFC000'
  - id: black
    hex: '000000'
  - id: white
    hex: 'ffffff'
  - id: purple
    hex: '73264D'
  - id: light_blue
    hex: '2E98DA'
  - id: lilac
    hex: 'D6BED0'
  - id: bg_blue
    hex: '032341'
  - id: bg_purple
    hex: 'A16793'
  - id: bg_green
    hex: '05350B'
  - id: bg_red
    hex: '3C0000'
  - id: bg_pink
    hex: '61034D'
  - id: bg_charcoal
    hex: '323232'
  - id: bg_brown
    hex: '41220D'
  - id: bg_grey
    hex: '4F4F4F'
lvgl:
  displays:
    - device_display
  touchscreens:
    - device_touchscreen
  theme:
    label:
      text_font: my_font28 # set all your labels to use your custom defined font
      text_align: CENTER
      text_color: 0xffffff
      align: TOP_MID

    button:
      bg_color: bg_purple
      bg_opa: COVER
      border_color: 0x53334B
      border_width: 4
      text_color: white
      radius: 20
      shadow_color: 0x063D71
      shadow_ofs_x: 0
      shadow_ofs_y: 0
      shadow_spread: 3
      shadow_width: 5
      shadow_opa: 70%
      checked:
        bg_color: 0x6A4260
        bg_opa: COVER
        border_color: black
        border_width: 2
        text_color: yellow
        radius: 20
        shadow_color: yellow
        shadow_ofs_x: 0
        shadow_ofs_y: 0
        shadow_spread: 5
        shadow_width: 5
        shadow_opa: 70%

    switch:
      bg_color: 0xC0C0C0
      bg_grad_color: 0xb0b0b0
      bg_grad_dir: VER
      bg_opa: COVER
      checked:
        bg_color: 0x1d5f96
        bg_grad_color: 0x03324A
        bg_grad_dir: VER
        bg_opa: COVER
      knob:
        bg_color: 0xFFFFFF
        bg_grad_color: 0xC0C0C0
        bg_grad_dir: VER
        bg_opa: COVER
    slider:
      border_width: 1
      border_opa: 15%
      bg_color: 0xcccaca
      bg_opa: 15%
      indicator:
        bg_color: 0x1d5f96
        bg_grad_color: 0x03324A
        bg_grad_dir: VER
        bg_opa: COVER
      knob:
        bg_color: 0x2F8CD8
        bg_grad_color: 0x005782
        bg_grad_dir: VER
        bg_opa: COVER
        border_color: 0x0077b3
        border_width: 1
        text_color: 0xFFFFFF

  style_definitions:
    - id: main_content
      bg_color: 0xD6BED0
      text_color: 0xFFFFFF
      width: 68%
      height: 70%
      align: TOP_RIGHT
      border_width: 0
      radius: 0

    - id: bottom_content_left
      bg_color: 0xD6BED0
      text_color: bg_purple
      text_align: LEFT
      align: BOTTOM_LEFT
      width: 34%
      height: 30%
      translate_x: 256
      border_side: TOP
      border_width: 6
      border_color: 0x53334B
      radius: 0

    - id: bottom_content_right
      bg_color: 0xD6BED0
      text_color: bg_purple
      text_align: LEFT
      align: BOTTOM_LEFT
      width: 34%
      height: 30%
      translate_x: 528
      border_side: TOP
      border_width: 6
      border_color: 0x53334B
      radius: 0


    - id: left
      width: 32%
      height: 100%
      bg_color: bg_purple
      border_opa: TRANSP
      align: TOP_LEFT
      radius: 0
      text_align: CENTER
      text_color: 0xffffff

  top_layer:
      widgets:
        - obj:
            styles: left
            widgets:
              - label:
                  id: display_time
                  text_font: clock_font56
                  text: "23:59"
              - label:
                  id: display_day
                  text_font: weather_font30
                  text: "Sunday"
                  translate_y: 70
              - label:
                  id: display_date
                  text_font: weather_font30
                  text: "01 June"
                  translate_y: 100

              - label:
                  id: display_weather
                  translate_y: 130
                  text_font: icon_font_80
                  text: "\U000F0590"

              - label:
                  id: display_weather_label
                  text: " "
                  translate_y: 220

              - label:
                  id: display_out_temp
                  text_font: temp_font30
                  text: " "
                  translate_y: 260
                  translate_x: 10

              - label:
                  id: display_out_temp_icon
                  text_font: icon_font_30
                  text: "\U000F024A"
                  translate_y: 260
                  translate_x: -90

              - label:
                  id: real_feel_temp_lvgl
                  text_font: temp_font30
                  text: " "
                  translate_y: 295
                  translate_x: 10

              - label:
                  id: display_real_feel_temp_icon
                  text_font: icon_font_30
                  text: "\U000F050F"
                  translate_y: 295
                  translate_x: -90

              - label:
                  id: display_out_high_temp
                  text_font: temp_font30
                  text: " "
                  translate_y: 330
                  translate_x: 10

              - label:
                  id: display_out_high_temp_icon
                  text_font: icon_font_30
                  text: "\U000F050F"
                  translate_y: 330
                  translate_x: -90

              - label:
                  id: display_out_low_temp
                  text_font: temp_font30
                  text: " "
                  translate_y: 365
                  translate_x: 10

              - label:
                  id: display_out_low_temp_icon
                  text_font: icon_font_30
                  text: "\U000F050F"
                  translate_y: 365
                  translate_x: -90

  pages:
    - id: main_page
      widgets:
        - obj:
            styles: main_content
            layout:
              pad_column: 15
              pad_row: 10
              type: GRID
              grid_columns: [FR(1), FR(1), FR(1), FR(1)]
              grid_rows: [FR(30), FR(5), FR(30), FR(5)]

            widgets:
              - button:
                  checkable: true
                  id: button_1
                  grid_cell_column_pos: 0
                  grid_cell_row_pos: 0
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: dining_light_lvgl
                        text_font: icon_font_80
                        text: "\U000F06B5"
                  on_press:
                    - homeassistant.action:
                        action: light.toggle
                        data:
                          entity_id: ${living_room_lamp1}
              - label:
                  grid_cell_column_pos: 0 # place the widget in
                  grid_cell_row_pos: 1 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: true
                  id: button_2
                  grid_cell_column_pos: 1
                  grid_cell_row_pos: 0
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: big_light_lvgl
                        text_font: icon_font_80
                        text: "\U000F0769"
                  on_click:
                    - homeassistant.action:
                        action: switch.toggle
                        data:
                          entity_id: switch.big_light_esp

              - label:
                  grid_cell_column_pos: 1 # place the widget in
                  grid_cell_row_pos: 1 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: true
                  id: button_3
                  grid_cell_column_pos: 2
                  grid_cell_row_pos: 0
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: back_light_lvgl
                        text_font: icon_font_80
                        text: "\U000F0769"
                  on_click:
                    - homeassistant.action:
                        action: switch.toggle
                        data:
                          entity_id: switch.back_room_esp
              - label:
                  grid_cell_column_pos: 2 # place the widget in
                  grid_cell_row_pos: 1 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: true
                  id: button_4
                  grid_cell_column_pos: 3
                  grid_cell_row_pos: 0
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: living_room_lvgl
                        text_font: icon_font_80
                        text: "\U000F04B9"
                  on_click:
                    - homeassistant.action:
                        action: switch.toggle
                        data:
                          entity_id: switch.living_room

              - label:
                  grid_cell_column_pos: 3 # place the widget in
                  grid_cell_row_pos: 1 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER



## second row ##

              - button:
                  checkable: false
                  id: button_7
                  grid_cell_column_pos: 0
                  grid_cell_row_pos: 2
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  pressed:
                    bg_color: blue
                  widgets:
                    - label:
                        id: heating_down_lvgl
                        text_font: icon_font_80
                        text: "\U000F0B26"
                  on_press:
                    then:
                      - homeassistant.service:
                          service: climate.set_temperature
                          data:
                            temperature: !lambda "return id(set_temp).state - 1;"
                            entity_id: ${ds_set_climate_entity}

              - label:
                  grid_cell_column_pos: 0 # place the widget in
                  grid_cell_row_pos: 3 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: false
                  id: button_8
                  grid_cell_column_pos: 1
                  grid_cell_row_pos: 2
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  pressed:
                    bg_color: red
                  widgets:
                    - label:
                        id: set_temp_lvgl
                        translate_y: 15
                        text_font: my_font40
                        text: " "
                    - label:
                        id: set_temp_label
                        translate_y: 55
                        text_font: my_font16
                        text: "Thermostat"
                  on_press:
                    - if:
                        condition:
                          - lambda: return id(set_temp_mode).state == "NoHold";
                        then:
                          - lvgl.label.update:
                              id: set_temp_lvgl
                              text_color: white
                          - lvgl.label.update:
                             id: set_temp_label
                             text: "Thermostat\nOn Schedule"
                        else:
                          - homeassistant.action:
                              action: climate.set_preset_mode
                              data:
                                preset_mode: "NoHold"
                                entity_id: ${ds_set_climate_entity}
                          - lvgl.label.update:
                              id: set_temp_lvgl
                              text_color: white
                          - lvgl.label.update:
                             id: set_temp_label
                             text: "Thermostat\nOn Schedule"

              - label:
                  grid_cell_column_pos: 1 # place the widget in
                  grid_cell_row_pos: 3 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: false
                  id: button_9
                  grid_cell_column_pos: 2
                  grid_cell_row_pos: 2
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: ds_climate_actual_temp_lvgl
                        translate_y: 15
                        text_font: my_font40
                        text: " "
                    - label:
                        id: ds_climate_actual_temp_label
                        translate_y: 55
                        text_font: my_font22
                        text: "Actual"


              - label:
                  grid_cell_column_pos: 2 # place the widget in
                  grid_cell_row_pos: 3 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: false
                  id: button_10
                  grid_cell_column_pos: 3
                  grid_cell_row_pos: 2
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  pressed:
                    bg_color: red
                  widgets:
                    - label:
                        id: climate_up_lvgl
                        text_font: icon_font_80
                        text: "\U000F0B2C"
                  on_press:
                    then:
                      - homeassistant.service:
                          service: climate.set_temperature
                          data:
                            temperature: !lambda "return id(set_temp).state + 1;"
                            entity_id: ${ds_set_climate_entity}

              - button:
                  checkable: false
                  border_width: 0
                  bg_color: lilac
                  shadow_spread: 0
                  shadow_width: 0
                  grid_cell_column_pos: 3 # place the widget in
                  grid_cell_row_pos: 3 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: more_label
                        translate_y: -8
                        text_font: my_font16
                        text_color: bg_purple
                        text: "More ->"
                        text_align: CENTER
                  on_press:
                    then:
                      - lvgl.page.next:



        - obj:
            styles: bottom_content_left
            widgets:
              - label:
                  id: display_cur_elec_usage
                  align: TOP_LEFT
                  translate_x: 80
                  translate_y: 20
                  text_font: my_font18
                  text_color: bg_purple
                  text: "Cur Elect Usage"

              - label:
                  id: display_daily_elect_usage
                  align: TOP_LEFT
                  translate_y: 45
                  translate_x: 80
                  text_font: my_font18
                  text_color: bg_purple
                  text: "Daily Elect Usage"

              - label:
                  id: display_elec_cost
                  align: TOP_LEFT
                  translate_y: 70
                  translate_x: 80
                  text_font: my_font18
                  text_color: bg_purple
                  text: "Cost"

              - label:
                  id: display_energy_icon
                  align: TOP_LEFT
                  translate_y: 10
                  text_color: leaf_green
                  text_font: icon_font_60
                  text: "\U000F032A"

              - label:
                  id: display_energy_title
                  align: TOP_LEFT
                  translate_y: -5
                  translate_x: 15
                  text_color: white
                  text_font: my_font22
                  text: "Energy Usage"
        - obj:
            styles: bottom_content_right
            widgets:
              - label:
                  id: display_garage_icon
                  align: TOP_LEFT
                  translate_y: 20
                  text_color: light_blue
                  text_font: icon_font_60
                  text: "\U000F12D3"
                  on_press:
                    - homeassistant.action:
                        action: switch.toggle
                        data:
                          entity_id: ${garage_door}
              - label:
                  id: garage_door_title
                  align: TOP_LEFT
                  translate_y: -5
                  translate_x: 25
                  text_color: white
                  text_font: my_font22
                  text: "Garage Door"
              - label:
                  id: display_garage_status
                  align: TOP_LEFT
                  translate_x: 70
                  translate_y: 50
                  text_font: my_font18
                  text_color: bg_purple
                  text: " "

    - id: second_page
      widgets:
        - obj:
            styles: main_content
            layout:
              pad_column: 15
              pad_row: 10
              type: GRID
              grid_columns: [FR(1), FR(1), FR(1), FR(1)]
              grid_rows: [FR(30), FR(5), FR(30), FR(5)]

            widgets:
              - button:
                  checkable: true
                  id: button2_1
                  grid_cell_column_pos: 0
                  grid_cell_row_pos: 0
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: mb_light_lvgl
                        text_font: icon_font_80
                        text: "\U000F06B5"
                  on_click:
                    - homeassistant.action:
                        action: light.toggle
                        data:
                          entity_id: ${masterbed_lamp_left}
              - label:
                  grid_cell_column_pos: 0 # place the widget in
                  grid_cell_row_pos: 1 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: true
                  id: button2_2
                  grid_cell_column_pos: 1
                  grid_cell_row_pos: 0
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: kitchen_light_lvgl
                        text_font: icon_font_80
                        text: "\U000F06B5"
                  on_click:
                    - homeassistant.action:
                        action: light.toggle
                        data:
                          entity_id: ${masterbed_lamp_right}


              - label:
                  grid_cell_column_pos: 1 # place the widget in
                  grid_cell_row_pos: 1 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: true
                  id: button2_3
                  grid_cell_column_pos: 2
                  grid_cell_row_pos: 0
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: spare_1_lvgl
                        text_font: icon_font_80
                        text: "\U000F0769"

              - label:
                  grid_cell_column_pos: 2 # place the widget in
                  grid_cell_row_pos: 1 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: true
                  id: button2_4
                  grid_cell_column_pos: 3
                  grid_cell_row_pos: 0
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: spare_2_lvgl
                        text_font: icon_font_80
                        text: "\U000F18DD"
              - label:
                  grid_cell_column_pos: 3 # place the widget in
                  grid_cell_row_pos: 1 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER



## second row ##
              - button:
                  checkable: false
                  id: button2_7
                  grid_cell_column_pos: 0
                  grid_cell_row_pos: 2
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  pressed:
                    bg_color: blue
                  widgets:
                    - label:
                        id: climate2_down_lvgl
                        text_font: icon_font_80
                        text: "\U000F0B26"
                  on_press:
                    then:
                      - homeassistant.service:
                          service: climate.set_temperature
                          data:
                            temperature: !lambda "return id(set_temp2).state - 1;"
                            entity_id: ${us_set_climate_entity}

              - label:
                  grid_cell_column_pos: 0 # place the widget in
                  grid_cell_row_pos: 3 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: false
                  id: button2_8
                  grid_cell_column_pos: 1
                  grid_cell_row_pos: 2
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  pressed:
                    bg_color: red
                  widgets:
                    - label:
                        id: set_temp2_lvgl
                        translate_y: 15
                        text_font: my_font40
                        text: " "
                    - label:
                        id: set_temp2_label
                        text_align: CENTER
                        translate_y: 55
                        text_font: my_font16
                        text: "Thermostat"
                  on_press:
                    - if:
                        condition:
                          - lambda: return id(set_temp2_mode).state == "NoHold";
                        then:
                          - lvgl.label.update:
                              id: set_temp2_lvgl
                              text_color: white
                          - lvgl.label.update:
                             id: set_temp2_label
                             text: "Thermostat\nOn Schedule"
                        else:
                          - homeassistant.action:
                              action: climate.set_preset_mode
                              data:
                                preset_mode: "NoHold"
                                entity_id: ${us_set_climate_entity}
                          - lvgl.label.update:
                              id: set_temp2_lvgl
                              text_color: white
                          - lvgl.label.update:
                             id: set_temp2_label
                             text: "Thermostat\nOn Schedule"

              - label:
                  grid_cell_column_pos: 1 # place the widget in
                  grid_cell_row_pos: 3 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: false
                  id: button2_9
                  grid_cell_column_pos: 2
                  grid_cell_row_pos: 2
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: us_climate_actual_temp_lvgl
                        translate_y: 15
                        text_font: my_font40
                        text: " "
                    - label:
                        id: us_climate_actual_temp_label
                        text_align: CENTER
                        translate_y: 55
                        text_font: my_font18
                        text: "Actual"

              - label:
                  grid_cell_column_pos: 2 # place the widget in
                  grid_cell_row_pos: 3 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER

              - button:
                  checkable: false
                  id: button2_10
                  grid_cell_column_pos: 3
                  grid_cell_row_pos: 2
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  pressed:
                    bg_color: red
                  widgets:
                    - label:
                        id: climate2_up_lvgl
                        text_font: icon_font_80
                        text: "\U000F0B2C"
                  on_press:
                    then:
                      - homeassistant.service:
                          service: climate.set_temperature
                          data:
                            temperature: !lambda "return id(set_temp2).state + 1;"
                            entity_id: ${us_set_climate_entity}

              - button:
                  checkable: false
                  border_width: 0
                  bg_color: lilac
                  shadow_spread: 0
                  shadow_width: 0
                  grid_cell_column_pos: 0 # place the widget in
                  grid_cell_row_pos: 3 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  widgets:
                    - label:
                        id: back_label
                        translate_y: -8
                        text_font: my_font16
                        text_color: bg_purple
                        text: "<- Back"
                        text_align: CENTER
                  on_press:
                    then:
                      - lvgl.page.previous:

              - label:
                  grid_cell_column_pos: 3 # place the widget in
                  grid_cell_row_pos: 3 # the corresponding cell
                  grid_cell_x_align: STRETCH
                  grid_cell_y_align: STRETCH
                  text: " "
                  text_align: CENTER



        - obj:
            styles: bottom_content_left

        - obj:
            styles: bottom_content_right
